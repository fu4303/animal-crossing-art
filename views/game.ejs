<%- include('partials/header') -%>

 
  
<main>
  <div class="container">
    <div id="question-container" class="hide">
   <div id="answer-buttons"class="row justify-content-center mt-5">
    <ul class="row list-unstyled">
      
     <div id="changePainting"> </div> 

    
        
<!-- <% function randomIndex() { %> 

<% let randomIndex = Math.floor(Math.random() * paintings.length); %>; 
 <% let painting1 = '<img class="img-fluid" id="realPainting" src="paintings[randomIndex].image">'; %> 
  <% $('#changePainting').html(painting1) %> 
  <% } %>  -->
    </ul>
    </div>
  </div>
    <div class="controls">
      <button id="start-btn" class="start-btn btn">Start</button>
     <!-- <button id="next-btn" onclick="<%randomIndex = Math.floor(Math.random() * paintings.length)%>" class="next-btn btn hide">Next</button> -->
      <!-- add ejs to reload the page here in the button tag, on button click change variables-->
    </div>
</div> 
 
<script>  
var paintings = <%- JSON.stringify(paintings)%>
//  <script type="text/javascript" src="js/main.js"> 
  const fakes = document.querySelectorAll("#fakePainting")
    const real = document.querySelectorAll("#realPainting")
    const startButton = document.getElementById('start-btn')
    const nextButton = document.getElementById('next-btn')
    const questionContainerElement = document.getElementById("question-container")

    let currentQuestionIndex

    startButton.addEventListener("click", startGame)
    nextButton.addEventListener("click", nextPaintings)

 function randomIndex() {

    let randomIndex = Math.floor(Math.random() * paintings.length);
    let paintSource = paintings[randomIndex].image;
    painting1 = '<img class="img-fluid" id="realPainting" src="' + paintSource + '">';
    $('#changePainting').html(painting1)
  }   
  function startGame() {
     randomIndex()
    // startButton.classList.add('hide')
    questionContainerElement.classList.remove('hide')
    nextButton.classList.remove('hide')
    console.log(paintings)
  }
  
 
    
  
  function nextPaintings(painting) {
   
    randomIndex
  }

  for (let i in fakes) {
      fakes[i].onclick = function () {
        alert("this is fake!!");
      };
    } 

    for (let i in real) {
      real[i].onclick = function () {
        alert("But quick, this is the real deal!!!");
      };
    }

</script>
 </main> 
 <%- include('partials/footer') -%>